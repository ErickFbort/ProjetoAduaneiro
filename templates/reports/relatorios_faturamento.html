{% extends "base.html" %}

{% block title %}Relatórios - Faturamento{% endblock %}

{% block body_class %}main-body{% endblock %}

{% block content %}
{% include 'partials/sidebar.html' %}

<main class="content main-content--shifted">
    <div class="content-section active">
        <div class="container-fluid">
            <!-- Header -->
            <div class="page-header">
                <div class="header-content">
                    <i class="fas fa-building"></i>
                    <div class="title-section">
                        <h2 class="page-title">Relatórios de Faturamento</h2>
                        <p class="page-subtitle">Relatórios relacionados ao faturamento e cobrança</p>
                    </div>
                </div>
            </div>

            <!-- Barra de Seleção Rápida -->
            <div class="quick-select-section">
                <div class="quick-select-header">
                    <h5><i class="fas fa-list me-2"></i>Seleção Rápida de Relatórios</h5>
                </div>
                <div class="quick-select-content">
                    <div class="row">
                        <div class="col-md-8">
                            <label for="reportSelect" class="form-label">Selecione o Relatório</label>
                            <select class="form-select" id="reportSelect" onchange="selectReportFromDropdown()">
                                <option value="">Selecione...</option>
                                <option value="baixas-guias">Baixas de Guias</option>
                                <option value="cargas-entregues">Cargas Entregues</option>
                                <option value="cargas-entregues-dta">Cargas Entregues DTA</option>
                                <option value="cargas-recebidas-natureza">Cargas Recebidas por Natureza</option>
                                <option value="custodia">Custódia</option>
                                <option value="guias-canceladas">Guias Canceladas</option>
                                <option value="guias-emitidas-funcionarios">Guias Emitidas por Funcionários</option>
                                <option value="guias-faturadas">Guias Faturadas</option>
                                <option value="pagamentos-estornados">Pagamentos Estornados</option>
                                <option value="processos-cancelados">Processos Cancelados</option>
                                <option value="quantidade-guias-funcionarios">Quantidade Guias por Funcionários</option>
                                <option value="relatorio-pagamentos-divergentes">Relatório de Pagamentos Divergentes</option>
                                <option value="servicos-faturamento">Serviços x Faturamento</option>
                                <option value="validacao-cobrancas-esperadas">Validação Cobranças Esperadas</option>
                                <option value="validacao-guias-pos-fechamento">Validação Guias Pós-Fechamento</option>
                                <option value="validacao-guias-pre-fechamento">Validação Guias Pré-Fechamento</option>
                            </select>
                        </div>
                        <div class="col-md-4 d-flex align-items-end">
                            <button class="btn btn-primary w-100" onclick="openSelectedReport()" id="openReportBtn" disabled>
                                <i class="fas fa-eye me-2"></i>Abrir Relatório
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Área de Favoritos -->
            <div id="favorites-section" class="favorites-section" style="display: none;">
                <div class="favorites-header">
                    <h5><i class="fas fa-star text-warning me-2"></i>Relatórios Favoritos</h5>
                    <button class="btn btn-sm btn-outline-secondary" onclick="clearAllFavorites()">
                        <i class="fas fa-trash"></i> Limpar Todos
                    </button>
                </div>
                <div class="favorites-container" id="favoritesContainer">
                    <!-- Favoritos serão carregados dinamicamente -->
                </div>
            </div>

            <!-- Grid de Relatórios -->
            <div class="reports-grid">
                <!-- Baixas de Guias -->
                <div class="report-card" data-report="baixas-guias">
                    <div class="report-header">
                        <button class="btn-favorite" onclick="toggleFavorite('baixas-guias')" title="Adicionar aos favoritos">
                            <i class="far fa-star"></i>
                        </button>
                    </div>
                    <div class="report-icon">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <div class="report-content">
                        <h4>Baixas de Guias</h4>
                        <p>Relatório de baixas de guias de faturamento</p>
                        <div class="report-stats">
                            <span class="stat-item">
                                <i class="fas fa-check-circle text-success"></i>
                                Guias baixadas
                            </span>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn btn-primary btn-sm" onclick="openReport('baixas-guias')">
                            <i class="fas fa-eye"></i> Visualizar
                        </button>
                        <button class="btn btn-outline-primary btn-sm" onclick="exportReport('baixas-guias')">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                </div>

                <!-- Cargas Entregues -->
                <div class="report-card" data-report="cargas-entregues">
                    <div class="report-header">
                        <button class="btn-favorite" onclick="toggleFavorite('cargas-entregues')" title="Adicionar aos favoritos">
                            <i class="far fa-star"></i>
                        </button>
                    </div>
                    <div class="report-icon">
                        <i class="fas fa-truck"></i>
                    </div>
                    <div class="report-content">
                        <h4>Cargas Entregues</h4>
                        <p>Relatório de cargas entregues para faturamento</p>
                        <div class="report-stats">
                            <span class="stat-item">
                                <i class="fas fa-truck text-primary"></i>
                                Cargas entregues
                            </span>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn btn-primary btn-sm" onclick="openReport('cargas-entregues')">
                            <i class="fas fa-eye"></i> Visualizar
                        </button>
                        <button class="btn btn-outline-primary btn-sm" onclick="exportReport('cargas-entregues')">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                </div>

                <!-- Guias Faturadas -->
                <div class="report-card" data-report="guias-faturadas">
                    <div class="report-header">
                        <button class="btn-favorite" onclick="toggleFavorite('guias-faturadas')" title="Adicionar aos favoritos">
                            <i class="far fa-star"></i>
                        </button>
                    </div>
                    <div class="report-icon">
                        <i class="fas fa-check-circle"></i>
                    </div>
                    <div class="report-content">
                        <h4>Guias Faturadas</h4>
                        <p>Relatório de guias que foram faturadas</p>
                        <div class="report-stats">
                            <span class="stat-item">
                                <i class="fas fa-check-circle text-success"></i>
                                Guias faturadas
                            </span>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn btn-primary btn-sm" onclick="openReport('guias-faturadas')">
                            <i class="fas fa-eye"></i> Visualizar
                        </button>
                        <button class="btn btn-outline-primary btn-sm" onclick="exportReport('guias-faturadas')">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                </div>

                <!-- Serviços x Faturamento -->
                <div class="report-card" data-report="servicos-faturamento">
                    <div class="report-header">
                        <button class="btn-favorite" onclick="toggleFavorite('servicos-faturamento')" title="Adicionar aos favoritos">
                            <i class="far fa-star"></i>
                        </button>
                    </div>
                    <div class="report-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <div class="report-content">
                        <h4>Serviços x Faturamento</h4>
                        <p>Análise de serviços versus faturamento</p>
                        <div class="report-stats">
                            <span class="stat-item">
                                <i class="fas fa-calculator text-info"></i>
                                Serviços faturados
                            </span>
                        </div>
                    </div>
                    <div class="report-actions">
                        <button class="btn btn-primary btn-sm" onclick="openReport('servicos-faturamento')">
                            <i class="fas fa-eye"></i> Visualizar
                        </button>
                        <button class="btn btn-outline-primary btn-sm" onclick="exportReport('servicos-faturamento')">
                            <i class="fas fa-download"></i> Exportar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Modal de Relatório -->
<div class="modal fade" id="reportModal" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-file-alt me-2"></i>
                    <span id="reportTitle">Relatório</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Filtros do Relatório -->
                <div class="row mb-4">
                    <div class="col-md-3">
                        <label for="dateFrom" class="form-label">Data Inicial</label>
                        <input type="date" class="form-control" id="dateFrom">
                    </div>
                    <div class="col-md-3">
                        <label for="dateTo" class="form-label">Data Final</label>
                        <input type="date" class="form-control" id="dateTo">
                    </div>
                    <div class="col-md-3">
                        <label for="filterField" class="form-label">Filtro Adicional</label>
                        <select class="form-select" id="filterField">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="col-md-3 d-flex align-items-end">
                        <button class="btn btn-primary w-100" onclick="generateReport()">
                            <i class="fas fa-search"></i> Gerar Relatório
                        </button>
                    </div>
                </div>

                <!-- Tabela de Dados -->
                <div class="table-responsive" id="reportTableContainer" style="display: none;">
                    <table class="table table-striped" id="reportTable">
                        <thead id="reportTableHead">
                            <!-- Cabeçalhos serão preenchidos dinamicamente -->
                        </thead>
                        <tbody id="reportTableBody">
                            <!-- Dados serão preenchidos dinamicamente -->
                        </tbody>
                    </table>
                </div>

                <!-- Loading State -->
                <div class="text-center py-5" id="loadingState" style="display: none;">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Carregando...</span>
                    </div>
                    <p class="mt-3">Gerando relatório...</p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
// ========================================
// DADOS DOS RELATÓRIOS DE FATURAMENTO
// ========================================

const faturamentoReportsData = {
    'baixas-guias': {
        name: 'Baixas de Guias',
        description: 'Relatório de baixas de guias de faturamento',
        fields: ['001*', '002*', '003', '018'],
        icon: 'fa-file-invoice-dollar',
        color: 'success',
        columns: ['ID', 'Guia', 'Data Baixa', 'Valor', 'Status'],
        sampleData: [
            ['001', 'GUI-2024-001', '2024-01-15', 'R$ 1.500,00', 'Baixada'],
            ['002', 'GUI-2024-002', '2024-01-20', 'R$ 2.300,00', 'Baixada'],
            ['003', 'GUI-2024-003', '2024-01-25', 'R$ 1.800,00', 'Baixada']
        ]
    },
    'cargas-entregues': {
        name: 'Cargas Entregues',
        description: 'Relatório de cargas entregues para faturamento',
        fields: ['001*', '002*', '003*', '006', '008', '009', '011', '018'],
        icon: 'fa-truck',
        color: 'primary',
        columns: ['ID', 'Cliente', 'Data Entrega', 'Valor', 'Status'],
        sampleData: [
            ['001', 'Empresa ABC Ltda', '2024-01-15', 'R$ 5.000,00', 'Entregue'],
            ['002', 'Comércio XYZ S/A', '2024-01-20', 'R$ 3.500,00', 'Entregue'],
            ['003', 'Indústria DEF Ltda', '2024-01-25', 'R$ 4.200,00', 'Entregue']
        ]
    },
    'guias-faturadas': {
        name: 'Guias Faturadas',
        description: 'Relatório de guias que foram faturadas',
        fields: ['001*', '002*', '003', '018'],
        icon: 'fa-check-circle',
        color: 'success',
        columns: ['ID', 'Guia', 'Data Faturamento', 'Valor', 'Status'],
        sampleData: [
            ['001', 'GUI-2024-001', '2024-01-15', 'R$ 1.500,00', 'Faturada'],
            ['002', 'GUI-2024-002', '2024-01-20', 'R$ 2.300,00', 'Faturada'],
            ['003', 'GUI-2024-003', '2024-01-25', 'R$ 1.800,00', 'Faturada']
        ]
    },
    'servicos-faturamento': {
        name: 'Serviços x Faturamento',
        description: 'Análise de serviços versus faturamento',
        fields: ['001*', '002*', '003*', '006', '007', '008', '009', '018'],
        icon: 'fa-calculator',
        color: 'info',
        columns: ['Serviço', 'Quantidade', 'Valor Unitário', 'Total'],
        sampleData: [
            ['Armazenagem', '150', 'R$ 50,00', 'R$ 7.500,00'],
            ['Movimentação', '300', 'R$ 25,00', 'R$ 7.500,00'],
            ['Inspeção', '75', 'R$ 100,00', 'R$ 7.500,00']
        ]
    }
};

// ========================================
// FUNÇÕES PRINCIPAIS
// ========================================

let currentReportType = null;
let reportModal = null;

// Abrir relatório
function openReport(reportType) {
    console.log('Abrindo relatório de faturamento:', reportType);
    
    currentReportType = reportType;
    const report = faturamentoReportsData[reportType];
    
    if (!report) {
        alert('Relatório não encontrado!');
        return;
    }
    
    // Configurar modal
    setupReportModal(report);
    
    // Abrir modal
    if (!reportModal) {
        reportModal = new bootstrap.Modal(document.getElementById('reportModal'));
    }
    reportModal.show();
}

// Configurar modal do relatório
function setupReportModal(report) {
    document.getElementById('reportTitle').textContent = report.name;
    
    // Limpar tabela
    document.getElementById('reportTableHead').innerHTML = '';
    document.getElementById('reportTableBody').innerHTML = '';
    document.getElementById('reportTableContainer').style.display = 'none';
}

// Gerar relatório
function generateReport() {
    const report = faturamentoReportsData[currentReportType];
    if (!report) return;
    
    // Mostrar loading
    document.getElementById('loadingState').style.display = 'block';
    document.getElementById('reportTableContainer').style.display = 'none';
    
    // Simular geração do relatório
    setTimeout(() => {
        // Criar cabeçalho da tabela
        const thead = document.getElementById('reportTableHead');
        const headerRow = document.createElement('tr');
        report.columns.forEach(column => {
            const th = document.createElement('th');
            th.textContent = column;
            headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        
        // Criar dados da tabela
        const tbody = document.getElementById('reportTableBody');
        report.sampleData.forEach(rowData => {
            const row = document.createElement('tr');
            rowData.forEach(cellData => {
                const td = document.createElement('td');
                td.textContent = cellData;
                row.appendChild(td);
            });
            tbody.appendChild(row);
        });
        
        // Mostrar tabela
        document.getElementById('loadingState').style.display = 'none';
        document.getElementById('reportTableContainer').style.display = 'block';
    }, 1500);
}

// Exportar relatório
function exportReport(reportType) {
    console.log('Exportando relatório de faturamento:', reportType);
    alert('Funcionalidade de exportação será implementada em breve!');
}

// ========================================
// SISTEMA DE FAVORITOS
// ========================================

// Carregar favoritos
function loadFavorites() {
    const saved = localStorage.getItem('faturamentoFavorites');
    return saved ? JSON.parse(saved) : [];
}

// Salvar favoritos
function saveFavorites(favorites) {
    localStorage.setItem('faturamentoFavorites', JSON.stringify(favorites));
}

// Toggle favorito
function toggleFavorite(reportType) {
    const favorites = loadFavorites();
    const index = favorites.indexOf(reportType);
    
    if (index > -1) {
        favorites.splice(index, 1);
        updateFavoriteButton(reportType, false);
    } else {
        favorites.push(reportType);
        updateFavoriteButton(reportType, true);
    }
    
    saveFavorites(favorites);
    updateFavoritesSection();
}

// Atualizar botão de favorito
function updateFavoriteButton(reportType, isFavorite) {
    const card = document.querySelector(`[data-report="${reportType}"]`);
    if (!card) return;
    
    const btn = card.querySelector('.btn-favorite');
    const icon = btn.querySelector('i');
    
    if (isFavorite) {
        icon.className = 'fas fa-star';
        btn.title = 'Remover dos favoritos';
    } else {
        icon.className = 'far fa-star';
        btn.title = 'Adicionar aos favoritos';
    }
}

// Atualizar seção de favoritos
function updateFavoritesSection() {
    const favorites = loadFavorites();
    const section = document.getElementById('favorites-section');
    const container = document.getElementById('favoritesContainer');
    
    if (favorites.length === 0) {
        section.style.display = 'none';
        return;
    }
    
    section.style.display = 'block';
    container.innerHTML = '';
    
    favorites.forEach(reportType => {
        const report = faturamentoReportsData[reportType];
        if (report) {
            const card = createFavoriteCard(reportType, report);
            container.appendChild(card);
        }
    });
}

// Criar card de favorito
function createFavoriteCard(reportType, report) {
    const card = document.createElement('div');
    card.className = 'favorite-card';
    card.innerHTML = `
        <div class="favorite-content">
            <div class="favorite-icon">
                <i class="fas ${report.icon}"></i>
            </div>
            <div class="favorite-info">
                <h6>${report.name}</h6>
                <p>${report.description}</p>
            </div>
        </div>
        <div class="favorite-actions">
            <button class="btn btn-sm btn-primary" onclick="openReport('${reportType}')" title="Abrir relatório">
                <i class="fas fa-eye"></i>
            </button>
            <button class="btn btn-sm btn-outline-danger" onclick="toggleFavorite('${reportType}')" title="Remover dos favoritos">
                <i class="fas fa-trash"></i>
            </button>
        </div>
    `;
    return card;
}

// Limpar todos os favoritos
function clearAllFavorites() {
    if (confirm('Tem certeza que deseja remover todos os favoritos?')) {
        saveFavorites([]);
        updateFavoritesSection();
        
        // Atualizar todos os botões de favorito
        document.querySelectorAll('.btn-favorite').forEach(btn => {
            const icon = btn.querySelector('i');
            icon.className = 'far fa-star';
            icon.parentElement.title = 'Adicionar aos favoritos';
        });
    }
}

// ========================================
// SISTEMA DE SELEÇÃO RÁPIDA
// ========================================

// Selecionar relatório do dropdown
function selectReportFromDropdown() {
    const select = document.getElementById('reportSelect');
    const openBtn = document.getElementById('openReportBtn');
    
    if (select.value) {
        openBtn.disabled = false;
        openBtn.innerHTML = '<i class="fas fa-eye me-2"></i>Abrir Relatório';
    } else {
        openBtn.disabled = true;
        openBtn.innerHTML = '<i class="fas fa-eye me-2"></i>Abrir Relatório';
    }
}

// Abrir relatório selecionado
function openSelectedReport() {
    const select = document.getElementById('reportSelect');
    const reportType = select.value;
    
    if (reportType) {
        openReport(reportType);
        // Scroll para o card do relatório
        const reportCard = document.querySelector(`[data-report="${reportType}"]`);
        if (reportCard) {
            reportCard.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center' 
            });
            
            // Destacar o card temporariamente
            reportCard.style.border = '2px solid #007bff';
            reportCard.style.boxShadow = '0 0 15px rgba(0, 123, 255, 0.3)';
            
            setTimeout(() => {
                reportCard.style.border = '';
                reportCard.style.boxShadow = '';
            }, 2000);
        }
    }
}

// Inicializar favoritos ao carregar a página
document.addEventListener('DOMContentLoaded', function() {
    const favorites = loadFavorites();
    
    // Atualizar botões de favorito
    favorites.forEach(reportType => {
        updateFavoriteButton(reportType, true);
    });
    
    // Atualizar seção de favoritos
    updateFavoritesSection();
    
    // Inicializar dropdown
    selectReportFromDropdown();
});
</script>

<style>
/* ========================================
   SISTEMA DE SELEÇÃO RÁPIDA - ESTILOS
   ======================================== */

/* Seção de Seleção Rápida */
.quick-select-section {
    background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
    border: 1px solid #bbdefb;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.quick-select-header {
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #2196f3;
}

.quick-select-header h5 {
    margin: 0;
    color: #1976d2;
    font-weight: 600;
}

.quick-select-content .form-label {
    font-weight: 600;
    color: #424242;
    margin-bottom: 8px;
}

.quick-select-content .form-select {
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    padding: 10px 15px;
    font-size: 14px;
    transition: all 0.3s ease;
}

.quick-select-content .form-select:focus {
    border-color: #2196f3;
    box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
}

.quick-select-content .btn {
    border-radius: 8px;
    padding: 10px 20px;
    font-weight: 600;
    transition: all 0.3s ease;
}

.quick-select-content .btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
}

.quick-select-content .btn:not(:disabled):hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
}

/* ========================================
   SISTEMA DE FAVORITOS - ESTILOS
   ======================================== */

/* Seção de Favoritos */
.favorites-section {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 1px solid #dee2e6;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.favorites-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #ffc107;
}

.favorites-header h5 {
    margin: 0;
    color: #495057;
    font-weight: 600;
}

.favorites-container {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 15px;
}

.favorite-card {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    padding: 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

.favorite-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(0,0,0,0.15);
}

.favorite-content {
    display: flex;
    align-items: center;
    flex: 1;
}

.favorite-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, #ffc107, #ff8f00);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 15px;
    flex-shrink: 0;
}

.favorite-icon i {
    color: white;
    font-size: 18px;
    line-height: 1;
}

.favorite-info h6 {
    margin: 0 0 5px 0;
    color: #495057;
    font-weight: 600;
    font-size: 14px;
}

.favorite-info p {
    margin: 0;
    color: #6c757d;
    font-size: 12px;
    line-height: 1.3;
}

.favorite-actions {
    display: flex;
    gap: 5px;
    flex-shrink: 0;
}

.favorite-actions .btn {
    width: 32px;
    height: 32px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    font-size: 12px;
    line-height: 1;
}

.favorite-actions .btn i {
    font-size: 12px;
    line-height: 1;
}

/* ========================================
   CARDS DE RELATÓRIOS - ESTILOS
   ======================================== */

.reports-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.report-card {
    background: white;
    border: 1px solid #e9ecef;
    border-radius: 12px;
    padding: 20px;
    transition: all 0.3s ease;
    position: relative;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.report-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.report-header {
    position: absolute;
    top: 15px;
    right: 15px;
}

.btn-favorite {
    width: 36px;
    height: 36px;
    border: none;
    background: rgba(255, 193, 7, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    cursor: pointer;
    padding: 0;
    line-height: 1;
}

.btn-favorite:hover {
    background: rgba(255, 193, 7, 0.2);
    transform: scale(1.1);
}

.btn-favorite i {
    font-size: 18px;
    line-height: 1;
    color: #ffc107;
}

.report-icon {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, #2196f3, #1976d2);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 15px;
}

.report-icon i {
    font-size: 24px;
    color: white;
}

.report-content h4 {
    color: #495057;
    font-weight: 600;
    margin-bottom: 8px;
    font-size: 18px;
}

.report-content p {
    color: #6c757d;
    margin-bottom: 15px;
    font-size: 14px;
    line-height: 1.4;
}

.report-stats {
    margin-bottom: 15px;
}

.stat-item {
    display: inline-flex;
    align-items: center;
    background: #f8f9fa;
    padding: 5px 10px;
    border-radius: 15px;
    font-size: 12px;
    color: #495057;
    margin-right: 10px;
}

.stat-item i {
    margin-right: 5px;
    font-size: 14px;
}

.report-actions {
    display: flex;
    gap: 10px;
}

.report-actions .btn {
    flex: 1;
    border-radius: 8px;
    font-weight: 600;
    font-size: 14px;
    padding: 8px 16px;
    transition: all 0.3s ease;
}

.report-actions .btn:hover {
    transform: translateY(-1px);
}

/* Responsividade */
@media (max-width: 768px) {
    .reports-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .favorites-container {
        grid-template-columns: 1fr;
    }
    
    .favorite-card {
        flex-direction: column;
        text-align: center;
    }
    
    .favorite-content {
        margin-bottom: 10px;
    }
    
    .favorite-actions {
        justify-content: center;
    }
}
</style>
{% endblock %}